!function(){"use strict";const n={get(e){const t=document.cookie.split("; ").map(t=>t.split("=")).filter(t=>t[0]===e);return t.length?t.pop()[1]:null},set(t,e,i,n="/"){document.cookie=t+"="+e+";expires="+i.toUTCString()+";path="+n}},s=t=>t+"_dismissed",o=t=>t.getAttribute("data-component-id"),r=()=>{var t,e,i;t=a,e=o(a),i=(t=>{t=parseInt(t.getAttribute("data-component-expirydays")||"30",10);return t&&!isNaN(t)?t:30})(a),setTimeout(()=>{t&&t.parentNode&&t.parentNode.removeChild(t)},1),((t,e)=>{const i=new Date(Date.now());i.setTime(i.getTime()+24*e*60*60*1e3),n.set(s(t),"true",i)})(e,i)};let a=null,l=25;const i=()=>{let t=(()=>{var t,e=window.localStorage?window.localStorage.getItem(t="_pdfps"):null;if(e&&e.length){const t=JSON.parse(e);if(-1!==t.indexOf("41066")&&-1===t.indexOf("46137"))return!0}return!1})();const i=(()=>{let e=Date.now();return()=>{var t=Date.now();e+250-t<0&&((()=>{const t=document.documentElement.scrollHeight,e=Math.round(l/100*t);if(window.pageYOffset>e){if(window.removeEventListener("scroll",i,!1),window.removeEventListener("resize",i,!1),(()=>{const t=document.querySelector(".c-cookie-banner"),e=document.querySelector("#onetrust-banner-sdk");if(t)return!0;if(e)if("block"===window.getComputedStyle(e).display)return!0;return!1})())return;a.classList.add("c-site-messages--is-visible")}})(),e=t)}})();if(a=(()=>{var e=document.querySelectorAll(".c-site-messages");for(let t=0;e[t];++t){var i=o(e[t]);if(!Boolean(n.get(s(i))))return e[t]}return null})(),a){if("nnano-banner"===a.getAttribute("data-component-id")&&(t=!1),t)return!0;l=a.getAttribute("data-component-trigger-scroll-percentage"),a.classList.remove("hide","u-hide"),e=a.querySelectorAll(".c-site-messages__close"),Array.prototype.slice.call(e,0).forEach(t=>{t.addEventListener("click",r,!1)}),(t=>{const e=t.querySelector("form");if(e){const t=e.querySelector('[type="submit"]');e.addEventListener("submit",()=>{t.setAttribute("disabled","disabled"),window.setTimeout(()=>{t.removeAttribute("disabled")},1e3)})}})(a),window.addEventListener("scroll",i,!1),window.addEventListener("resize",i,!1)}var e},c=t=>{const e=[];if(!t)return e;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(t[i]);return e},u={TARGET_HIDE_CLASS:"u-js-hide",TRIGGER_OPEN_CLASS:"is-open",TRIGGER_OPEN_LABEL:void 0,CLOSE_ON_FOCUS_OUT:!0,AUTOFOCUS:null,OPEN_EVENT:!1},d={DATA_COMPONENT:"[data-facet-expander]",FACET:"[data-facet]"},h="c-facet__selected",p=t=>{const e=document.createElement("div");e.classList.add("c-facet__button-container"),t.prepend(e),(t=>{const e=document.createElement("button");e.classList.add("c-facet__submit"),e.textContent+="Apply filters",t.appendChild(e)})(e),((n,t)=>{const s=document.createElement("button");s.classList.add("c-facet__clear-selection"),s.textContent+="Clear selection",s.addEventListener("click",t=>{t.preventDefault();const e=n.querySelectorAll("input[type=checkbox]:checked, input[type=radio]:checked");let i;for(i=0;i<e.length;++i)e[i].checked=!1;s.closest("form").submit()}),t.appendChild(s)})(t,e)},_=()=>{var t=document.querySelectorAll(d.DATA_COMPONENT),e=document.querySelector(d.FACET);0!==t.length&&e&&c(t).forEach(t=>{const e=t.hasAttribute("data-facet-target")&&t.getAttribute("data-facet-target"),i=document.querySelector(e);i&&(i.querySelector("input[type=checkbox], input[type=radio]")&&(((t,e)=>{const i=e.querySelectorAll('input[type="checkbox"]:checked, input[type="radio"]:checked'),n=i.length,s=document.createElement("span");if(s.classList.add("c-facet__ellipsis"),1===n){const t=e.querySelector(`label[for="${i[0].id}"]`).textContent.trim();s.textContent+=t,s.classList.add(h)}else 1<n?(s.textContent+=`${n} selected`,s.classList.add(h)):s.textContent+="All";t.prepend(s)})(t,i),p(i)),new class{constructor(t,e,i={}){this._options=Object.assign({},u,i),this._autoFocusElement=t,this._triggerEl=t,this._targetEl=e,this._originalTriggerText=t.textContent,this._isOpen=!1,this._handleButtonClick=this._handleButtonClick.bind(this),this._handleButtonKeydown=this._handleButtonKeydown.bind(this),this._handleDocumentClick=this._handleDocumentClick.bind(this),this._handleDocumentKeydown=this._handleDocumentKeydown.bind(this)}_handleButtonClick(t){t.preventDefault(),this._isOpen?this.close():this.open()}_handleButtonKeydown(t){"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),this._isOpen?this.close():this.open())}_handleDocumentKeydown(t){"Escape"===t.key&&(this.close(),this._triggerEl.focus()),this._options.CLOSE_ON_FOCUS_OUT&&("Tab"===t.key&&!0===t.shiftKey&&(t.target!==this._targetTabbableItems[0]&&t.target!==this._triggerEl&&t.target!==this._targetEl||(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()}))),"Tab"===t.key&&!1===t.shiftKey&&t.target===this._targetTabbableItems[this._targetTabbableItems.length-1]&&(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()})))}_handleDocumentClick(t){t=t.target;t===this._targetEl||t===this._triggerEl||this._targetEl.contains(t)||this._triggerEl.contains(t)||this.close()}_setupTemporaryEventListeners(){document.addEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.addEventListener("click",this._handleDocumentClick)}_removeTemporaryEventListeners(){document.removeEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.removeEventListener("click",this._handleDocumentClick)}_updateAttributes(){this._triggerEl.setAttribute("aria-expanded",this._isOpen.toString()),this._isOpen?this._targetEl.removeAttribute("hidden"):this._targetEl.setAttribute("hidden","")}_updateClassAttributes(){this._isOpen?(this._triggerEl.classList.add(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.remove(this._options.TARGET_HIDE_CLASS)):(this._triggerEl.classList.remove(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.add(this._options.TARGET_HIDE_CLASS))}_updateTriggerLabel(){this._options.TRIGGER_OPEN_LABEL&&(this._triggerEl.textContent=this._isOpen?this._options.TRIGGER_OPEN_LABEL:this._originalTriggerText)}_updateTabbableItems(){this._targetTabbableItems=c(this._targetEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(t=>"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility"))}_handleAutoFocus(){"target"===this._options.AUTOFOCUS&&(this._autoFocusElement=this._targetEl,this._targetEl.setAttribute("tabindex","-1")),"firstTabbable"===this._options.AUTOFOCUS&&(this._autoFocusElement=0<this._targetTabbableItems.length&&this._targetTabbableItems[0],this._autoFocusElement.setSelectionRange&&this._autoFocusElement.setSelectionRange(0,this._autoFocusElement.value.length)),this._autoFocusElement.focus()}open(){var t;!this._isOpen&&(this._isOpen=!0,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._updateTabbableItems(),this._setupTemporaryEventListeners(),this._handleAutoFocus(),this._options.OPEN_EVENT)&&(t=((t,e,i)=>{if(void 0===e)throw new Error("Missing namespace in `createEvent` function");return"function"==typeof window.CustomEvent?new CustomEvent(`${e}:${t}`,i):((t,e)=>{e=e||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i})(`${e}:${t}`,i)})("open","globalExpander",{bubbles:!1}),this._triggerEl.dispatchEvent(t))}close(){this._isOpen&&(this._isOpen=!1,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._removeTemporaryEventListeners())}init(){"A"===this._triggerEl.tagName&&"#"===this._triggerEl.getAttribute("href").charAt(0)&&this._triggerEl.setAttribute("href","javascript:;"),this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._triggerEl.addEventListener("click",this._handleButtonClick),this._triggerEl.addEventListener("keydown",this._handleButtonKeydown)}}(t,i).init())})};var b={isFeatureFlagEnabled:function(e){var t=!1,i=null;return t=window.dataLayer&&e&&(i=window.dataLayer[0].page.attributes.featureFlags)?i.find(function(t){return t.name===e&&t.active}):t},extendObject:function(t,e){var i=t||{};return e&&Object.keys(e).forEach(function(t){i[t]=e[t]}),i},getJournalPCode:function(){if(window.dataLayer){var t=window.dataLayer[0];return t.content&&Object.prototype.hasOwnProperty.call(t.content,"journal")&&Object.prototype.hasOwnProperty.call(t.content.journal,"pcode")?t.content.journal.pcode:void 0}},getArticleDOI:function(){if(window.dataLayer){var t=window.dataLayer[0];return t.content&&Object.prototype.hasOwnProperty.call(t.content,"article")&&Object.prototype.hasOwnProperty.call(t.content.article,"doi")?t.content.article.doi:void 0}},hasAccess:function(){return"Yes"===((t=document.querySelector("meta[name=access]"))?t.getAttribute("content"):"");var t},debounce:function(n,s,o){var r;return function(){var t=this,e=arguments,i=o&&!r;clearTimeout(r),r=setTimeout(function(){r=null,o||n.apply(t,e)},s),i&&n.apply(t,e)}}};function g(){return{strategies:{ENTITLED:"entitled",UNENTITLED:"unentitled",UNKNOWN:"unknown"},persistenceServiceWrapperSource:window.ra21Host?window.ra21Host+"/seamless-access.js":null,idpVerifyURL:window.idpVerifyPrefix+"/verify/nature.min.js"}}const f=function(){return{init:function(t,e){t&&e&&function(t,e){var i=g().persistenceServiceWrapperSource,n=document.createElement("script");if(!i)throw new Error("persistance wrapper url is not set correctly");n.src=i,n.addEventListener("load",function(){seamlessAccess&&t()}),n.addEventListener("error",function(){e(this.error)}),document.body.appendChild(n)}(t,e)}}};function E(){return!!window.eligibleForRa21&&"true"===window.eligibleForRa21}function y(){return!window.dataLayer||!dataLayer[0].content.authorization.status}function v(t){return Object.prototype.hasOwnProperty.call(t,"name")&&Object.prototype.hasOwnProperty.call(t,"entityId")}window.isEligibleForRa21=E;const w=function(){return console.log("EntitlementIdPNatureLoader called"),{init:function(t,e){var i,n,e=e||function(){};i=t||function(){},n=e,window.idp={institutionalLogin:function(t){i(t)},hasNatureUserProof:function(t){var e;t||(e=document.querySelector("#login-button"),t=document.querySelector("#my-account"),e&&t&&(t.style.display="none",e.setAttribute("style","")))},ajaxError:function(t){n(t)}},function(t){console.log("loadIdPNatureVerify called");var e=g().idpVerifyURL,i=document.createElement("script");i.src=e,i.addEventListener("load",function(){}),i.addEventListener("error",function(){t(this.src)}),document.body.appendChild(i)}(e)}}};function m(t){var s=null,e=function(){s&&(this.options.text&&n(),this.options.active&&i(this.options,function(){var t=new CustomEvent("entitlement-box:created");document.dispatchEvent(t)}))}.bind(this),i=function(e,t){var i,n;s&&(e.accessButton&&(o(".js-access-button"),e.accessButtonEventHandler)&&(n=s.querySelector(".js-access-button"),i=null,n&&(i=n.querySelector("a"))&&n.addEventListener("click",function(t){t.preventDefault(),e.accessButtonEventHandler.call(null,t,i)})),n=s.getAttribute("data-force-hide-buy-button"),e.buyButton&&!n&&o(".js-buy-button"),e.changeInstitutionButton&&o(".js-change-institution-button"),e.text&&o(".js-text"),"true"===s.getAttribute("aria-hidden")?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden","true"),s.classList.toggle("u-display-none"),t&&t())}.bind(this),n=function(){var t=s.querySelector(".js-text");t&&(t.innerHTML=this.options.text)}.bind(this),o=function(t){var e,i,n;s&&(n=i=e=null,(t=s.querySelector(t))&&(e=t.querySelector("a"),n=t.parentNode.parentNode,"true"===(i=e||t).getAttribute("aria-hidden")?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden","true"),t.classList.toggle("u-display-none"),n&&n.classList.contains("c-nature-box__wrapper--placeholder")&&n.classList.remove("c-nature-box__wrapper--placeholder")))}.bind(this);return this.options=b.extendObject({selector:"#entitlement-box-mobile",active:!0},t),this.handleVisibility=i,s=document.querySelector(this.options.selector),e(),this}function L(t,e){var i=null,n=e||{},e=g().strategies;switch(t){case e.ENTITLED:i=new m(b.extendObject({type:"entitled",downloadButton:!0},n));break;case e.UNENTITLED:i=new m(b.extendObject({type:"unentitled",changeInstitutionButton:!0,buyButton:!0},n));break;case e.UNKNOWN:i=new m(b.extendObject({type:"unknown",accessButton:!0,buyButton:!0},n));break;default:i=new m({type:"default"})}return i}function A(){this._entitlementBoxList=[]}A.prototype.updateCurrentActive=function(t){var e=this.getActiveEntitlementBox();return e&&(e.options.active=!1),t&&(this.getEntitlementBoxBySelector(t).options.active=!0),this.getActiveEntitlementBox()},A.prototype.create=function(t,e){e=new L(t,e);return this._entitlementBoxList.push(e),e},A.prototype.getActiveEntitlementBox=function(){return this._entitlementBoxList.find(function(t){return t.options.active})},A.prototype.getEntitlementBoxBySelector=function(e){return this._entitlementBoxList.find(function(t){return t.options.selector===e})};const T={TARGET_HIDE_CLASS:"u-js-hide",TRIGGER_OPEN_CLASS:"is-open",TRIGGER_OPEN_LABEL:void 0,CLOSE_ON_FOCUS_OUT:!0,AUTOFOCUS:null,OPEN_EVENT:!(A.prototype.getAllEntitlementBox=function(){return this._entitlementBoxList})};var t,e=Object.freeze({__proto__:null,Popup:class{constructor(t,e,i={}){this._trigger=t,this._id=e,this._options=i,this._content=document.querySelector("#"+this._id),this._className="c-popup",this._isOpen=!1,this._arrowClass=this._className+"__arrow",this._closeClass=this._className+"__close",this._closeTextClass=this._className+"__close-text",this._closeButton=`<button class="${this._closeClass}"><span class="${this._closeTextClass}">Close</span></button>`,this._arrow=`<div class="${this._arrowClass}"></div>`,this._closeHandler=()=>{this._close()},this._build(),this._expander=new class{constructor(t,e,i={}){this._options=Object.assign({},T,i),this._autoFocusElement=t,this._triggerEl=t,this._targetEl=e,this._originalTriggerText=t.textContent,this._isOpen=!1,this._handleButtonClick=this._handleButtonClick.bind(this),this._handleButtonKeydown=this._handleButtonKeydown.bind(this),this._handleDocumentClick=this._handleDocumentClick.bind(this),this._handleDocumentKeydown=this._handleDocumentKeydown.bind(this)}_handleButtonClick(t){t.preventDefault(),this._isOpen?this.close():this.open()}_handleButtonKeydown(t){"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),this._isOpen?this.close():this.open())}_handleDocumentKeydown(t){"Escape"===t.key&&(this.close(),this._triggerEl.focus()),this._options.CLOSE_ON_FOCUS_OUT&&("Tab"===t.key&&!0===t.shiftKey&&(t.target!==this._targetTabbableItems[0]&&t.target!==this._triggerEl&&t.target!==this._targetEl||(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()}))),"Tab"===t.key&&!1===t.shiftKey&&t.target===this._targetTabbableItems[this._targetTabbableItems.length-1]&&(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()})))}_handleDocumentClick(t){t=t.target;t===this._targetEl||t===this._triggerEl||this._targetEl.contains(t)||this._triggerEl.contains(t)||this.close()}_setupTemporaryEventListeners(){document.addEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.addEventListener("click",this._handleDocumentClick)}_removeTemporaryEventListeners(){document.removeEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.removeEventListener("click",this._handleDocumentClick)}_updateAttributes(){this._triggerEl.setAttribute("aria-expanded",this._isOpen.toString()),this._isOpen?this._targetEl.removeAttribute("hidden"):this._targetEl.setAttribute("hidden","")}_updateClassAttributes(){this._isOpen?(this._triggerEl.classList.add(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.remove(this._options.TARGET_HIDE_CLASS)):(this._triggerEl.classList.remove(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.add(this._options.TARGET_HIDE_CLASS))}_updateTriggerLabel(){this._options.TRIGGER_OPEN_LABEL&&(this._triggerEl.textContent=this._isOpen?this._options.TRIGGER_OPEN_LABEL:this._originalTriggerText)}_updateTabbableItems(){this._targetTabbableItems=(t=>{const e=[];return t&&Array.prototype.forEach.call(t,function(t){e.push(t)}),e})(this._targetEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(t=>"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility"))}_handleAutoFocus(){"target"===this._options.AUTOFOCUS&&(this._autoFocusElement=this._targetEl,this._targetEl.setAttribute("tabindex","-1")),"firstTabbable"===this._options.AUTOFOCUS&&(this._autoFocusElement=0<this._targetTabbableItems.length&&this._targetTabbableItems[0],this._autoFocusElement.setSelectionRange&&this._autoFocusElement.setSelectionRange(0,this._autoFocusElement.value.length)),this._autoFocusElement.focus()}open(){var t;!this._isOpen&&(this._isOpen=!0,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._updateTabbableItems(),this._setupTemporaryEventListeners(),this._handleAutoFocus(),this._options.OPEN_EVENT)&&(t=((t,e,i)=>{if(void 0===e)throw new Error("Missing namespace in `createEvent` function");return"function"==typeof window.CustomEvent?new CustomEvent(`${e}:${t}`,i):((t,e)=>{e=e||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i})(`${e}:${t}`,i)})("open","globalExpander",{bubbles:!1}),this._triggerEl.dispatchEvent(t))}close(){this._isOpen&&(this._isOpen=!1,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._removeTemporaryEventListeners())}init(){"A"===this._triggerEl.tagName&&"#"===this._triggerEl.getAttribute("href").charAt(0)&&this._triggerEl.setAttribute("href","javascript:;"),this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._triggerEl.addEventListener("click",this._handleButtonClick),this._triggerEl.addEventListener("keydown",this._handleButtonKeydown)}}(this._trigger,this._content,{OPEN_EVENT:!0}),this._bindEvents()}open(){this._expander.open()}_build(){this._content.insertAdjacentHTML("beforeend",this._closeButton+this._arrow),document.body.appendChild(this._content)}_getCloseButton(){return this._content.querySelector("."+this._closeClass)}_positionPopup(){this._isOpen=!0,this._options.MAX_WIDTH&&(this._content.style.maxWidth=this._options.MAX_WIDTH),this._options.MIN_WIDTH&&(this._content.style.minWidth=this._options.MIN_WIDTH);var t=this._calcPositioning();this._content.style.top=this._px(t.top),this._content.style.left=this._px(t.left),this._content.style.right=this._px(t.right)}_close(){this._expander.close(),this._isOpen=!1,window.removeEventListener("resize",this._closeHandler)}_px(t){return t+"px"}_bindEvents(){this._expander.init(),this._trigger.addEventListener("globalExpander:open",t=>{t.preventDefault(),this._isOpen||(requestAnimationFrame(()=>{this._positionPopup(),this._content.focus()}),window.addEventListener("resize",this._closeHandler))}),this._getCloseButton().addEventListener("click",t=>{t.preventDefault(),this._close()}),this._getCloseButton().addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),this._close(),this._trigger.focus())}),this._content.addEventListener("keydown",t=>{"Escape"===t.key&&(t.preventDefault(),this._close(),this._trigger.focus())})}_calcPositioning(){const t=document.documentElement.scrollTop,e=this._trigger.getClientRects(),i=0<e.length?e[0]:{top:0,left:0},n={top:i.top+t,left:i.left,right:5},s=n.left,o=this._content.querySelector("."+this._arrowClass),r=document.documentElement.clientWidth,a=this._options.PAGE_PADDING||32,l=n.top-this._content.offsetHeight-12,c=n.top-this._content.offsetHeight-12,u=n.top+i.height+12,d=n.left+this._content.offsetWidth-r+a;0<d&&(d>n.left?n.left=5:n.left-=d);let h,p=!1;if(1<i.length&&(p=!0,1024<r&&(n.left=i.left-this._content.offsetWidth/2+20)),l<t?(h=u,o.classList.remove(this._arrowClass+"--above"),o.classList.add(this._arrowClass+"--below")):(h=c,o.classList.remove(this._arrowClass+"--below"),o.classList.add(this._arrowClass+"--above")),r<768)o.style.left=this._px(s+5);else if(p){const t=Math.round(n.left+this._content.offsetWidth-i.left-20);o.style.left=this._px(Math.round(this._content.offsetWidth-t))}else o.style.left=this._px(Math.max(Math.round(i.width/2-10)+(0<d?d:0),5));return{left:r<768?5:n.left,top:h,right:5}}}}),O=(function(t){const{Popup:c}=e;t.exports=function(){return{create:function(u,t){var d,h;(t=t||{}).etal&&function(t,e){var i=u.querySelectorAll("li"),n=i.length,s=function(t){return n>t&&!(n===t+1&&i[t].classList.contains("c-article-author-institutional-author__author-name"))},o=function(){var t=u.closest("div"),e=t?t.querySelector("h3[itemprop]"):null;return e?e.textContent:"this article"},r=function(t,e,i){var n=document.createElement("li");n.className=t;var s=document.createElement("a");return s.className="js-etal",s.setAttribute("href","javascript:;"),s.setAttribute("aria-label",e),s.setAttribute("title",e),s.innerHTML=i,n.appendChild(s),n};d=s(e);var a="";(h=s(t))&&!d&&(a="u-js-hide js-mq480-show-inline");var l=r("c-author-list__show-less u-js-hide","Show fewer authors for "+o(),"-Show fewer authors"),c=r("c-author-list__show-more "+a,"Show all "+n+" authors for "+o(),"[&hellip;]");(d||h)&&(u.classList.add("js-etal-collapsed"),i[n-2].parentNode.insertBefore(c,i[n-2]),u.appendChild(l),Array.prototype.slice.call(i,2,n-1).forEach(function(t){d&&t.classList.add("js-author-etal"),h&&t.classList.add("js-smaller-author-etal")}))}(t.etalSmallscreen||t.etal,t.etal),u.classList.add("js-no-scroll"),Array.prototype.slice.call(u.querySelectorAll("sup > a"),0).forEach(function(t){t.setAttribute("tabIndex","-1")});var o={};u.addEventListener("click",function(t){var e,i,n=t.target.closest("a");if(n&&n.classList.contains("js-etal"))e=u.querySelectorAll("li"),i=e.length,u.classList.contains("js-etal-collapsed")?(u.classList.add("js-authors-expanded"),u.classList.remove("js-etal-collapsed"),d?(e[i-4].classList.add("u-js-hide"),e[i-1].classList.remove("u-js-hide")):h&&(e[i-4].classList.remove("js-mq480-show-inline"),e[i-1].classList.add("js-mq480-show-inline")),e[2].querySelector("a").focus()):(u.classList.add("js-etal-collapsed"),u.classList.remove("js-authors-expanded"),d?e[i-4].classList.remove("u-js-hide"):h&&(e[i-4].classList.add("js-mq480-show-inline"),e[i-1].classList.remove("js-mq480-show-inline")),e[i-1].classList.add("u-js-hide"),u.querySelector(".c-author-list__show-more > a").focus());else if(n){var s=n.getAttribute("data-author-popup");s&&!o[s]&&(o[s]=1,function(t){var e,i,n=function(t){var e=t.querySelector("a.js-orcid"),i="";return e&&(i='<a class="c-article-orcid" href="'+e.getAttribute("href")+'" target="_blank" rel="noopener"><span class="c-article-orcid__text">View ORCID ID profile</span></a>'),i},s=t.getAttribute("data-author-popup"),o=t.closest("li"),r=t.cloneNode(!0);(i=(e=r)&&e.querySelector("svg"))&&e.removeChild(i);var a='<div tabindex="0" id="popup-'+s+'" class="c-popup c-author-popup u-font-family-serif u-js-hide"><section>';a+=function(t,e){var i=t.innerHTML;return'<h3 id="author-'+s+'" class="c-author-popup__subheading">'+i+"</h3>"+n(e)}(r,o),s.match(/^group/)?a+=function(t){var e=document.querySelector("#"+t);if(e){var i=e.cloneNode(!0),n=i.querySelector("h3"),s=i.querySelector("ul");return s&&s.classList.add("c-article-author-institutional-author__author-list--popup"),n&&n.parentNode.removeChild(n),i.innerHTML.replace(/[\r\n]/g,"")}return""}(s):(a+=function(t,e){var i=t.getAttribute("data-corresp-id"),n=i?document.querySelector("#corresp-"+i):null,s=[],o=[],r=[],a=function(t){return t.replace(/<(div|p)[^>]*>/g,"<span>").replace(/<\/(div|p)>/g,"</span>")};return Array.prototype.slice.call(e.querySelectorAll("sup > a"),0).forEach(function(t){var e;(e=t.nextElementSibling)&&"true"===e.getAttribute("data-present-affiliation")||s.push(t.hash)}),s.forEach(function(t){var e=document.querySelector(t);if(e){var i=e.querySelector(".c-article-author-affiliation__address"),n=e.getAttribute("id");if(null!==i&&r.push(a(i.innerHTML)),null!==n&&n.indexOf("n")>-1){var s=e.querySelector(".js-present-address");s?o.push(a(s.innerHTML)):o.push(a(e.innerHTML))}}}),r=o.concat(r),n&&r.push('<a href="'+n.getAttribute("href")+'" class="c-author-popup__link" rel="nofollow">Contact '+t.innerHTML+"</a>"),'<ul class="c-author-popup__author-list"><li>'+r.join("</li><li>")+"</li></ul>"}(r,o),a+=function(t){var e=document.querySelector("#"+t);if(e){var i=e.cloneNode(!0),n=i.querySelector(".js-search-name");return n&&n.parentNode.removeChild(n),i.innerHTML}return""}(s)),a+="</section></div>";var l=document.createElement("div");l.innerHTML=a,document.body.appendChild(l.firstChild),new c(t,"popup-"+s,{MAX_WIDTH:"650px",MIN_WIDTH:"300px"}).open()}(n))}})}}}}(t={exports:{}}),t.exports);window.loader.register(()=>{var t,e;i(),function({selector:t="[data-component-authors-activator]",options:s={etal:3,etalSmall:null}}={}){t=document.querySelectorAll(t);if(0!==t.length){const o=new O;Array.prototype.slice.call(t,0).forEach(t=>{const e=parseInt(t.getAttribute("data-etal"),10)||s.etal,i=parseInt(t.getAttribute("data-etal-small"),10)||s.etalSmall,n={etal:e};i&&(n.etalSmallscreen=i),o.create(t,n)})}}(),_(),window.eligibleForRa21&&window.idpVerifyPrefix&&window.ra21Host&&(console.log("executing entitlements"),t="magazine mosaic"===dataLayer[0].page.attributes.template,e="mosaic"===dataLayer[0].page.attributes.template,function({desktop:t=["#entitlement-box-desktop"],mobile:e="#entitlement-box-mobile",mediaQuery:i="1023px"}){var o=t,r=e,n=function(){seamlessAccess&&Object.prototype.hasOwnProperty.call(seamlessAccess,"lastUsedInstitution")&&(console.log("calling seamlessAccess.lastUsedInstitution(onHandlerLastUsedInstitution)"),seamlessAccess.lastUsedInstitution(u))}.bind(this),s=new A,a=null,l={isEligibleForRa21:E,isAccessDenied:y,isLastUsedInstitutionValid:v},c=window.matchMedia(`(max-width: ${i})`);function u(i){console.log("onHandlerLastUsedInstitution callback with response",i);var n;a=i&&l.isLastUsedInstitutionValid(i)?{strategy:"unknown",options:{text:"Access this article via <strong>"+i.name+"</strong>",buyButton:!1,changeInstitutionButton:!0,accessButtonEventHandler:function(t,e){e&&(n=e.getAttribute("href").match("[?&]redirect_uri=([^&#]*)")[1],seamlessAccess&&Object.prototype.hasOwnProperty.call(seamlessAccess,"loginWithLastSelected")&&seamlessAccess.loginWithLastSelected(i.entityId,n))}}}:(console.log("no response from lastUsedInstitution in onHandlerLastUsedInstitution"),{strategy:"unknown"}),m(),h(a)}function d(t){var e=t.strategy,t=t.options||null;return s.create(e,t)}function h(n){var t=n.options||{},s=n.options||{};d({strategy:n.strategy,options:b.extendObject(t,{active:c.matches,selector:r})}),o.forEach(t=>{const e=document.querySelector(t);var i;e&&(i=e.getAttribute("data-unsubscribe-media-query-change"),d({strategy:n.strategy,options:b.extendObject(s,{active:"true"===i||!c.matches,selector:t})}))})}function p(t){console.log("there has been an error when trying to load the entitlement script "+t),l.isAccessDenied()||(a={strategy:"entitled"},m(),h(a))}function _(t,e){t.handleVisibility(t.options),(e=s.updateCurrentActive(e)).handleVisibility(e.options)}function g(){var i=s.getActiveEntitlementBox();i&&(c.matches&&i.options.selector!==r&&_(i,r),o.forEach(t=>{if(!c.matches&&i.options.selector!==t){const e=document.querySelector(t);e&&("true"===e.getAttribute("data-unsubscribe-media-query-change")||_(i,t))}}))}function m(){c.addListener(g)}w().init(function(t){l.isEligibleForRa21()&&(0<t.length?(a={strategy:l.isAccessDenied()?"unentitled":"entitled",options:{text:l.isAccessDenied()?"Access to this article via <strong>"+t[0]+"</strong>  is not available.":"You have full access to this article via <strong>"+t[0]+"</strong>"}},m(),h(a)):f().init(n,p))},p)}({desktop:t||e&&!1===dataLayer[0].backHalfContent?["#entitlement-box-right-column","#entitlement-box-main-column-unentitled"]:["#entitlement-box-right-column"],mobile:"#entitlement-box-entitled-mobile"}))})}();